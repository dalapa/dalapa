<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147600577-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-147600577-2');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="account" data="3054">
    <meta name="witel" data="">
    <title>DALAPA - Data Lapangan</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
    <link href="https://dalapa.id/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://dalapa.id/assets/css/nifty.min.css" rel="stylesheet">
    <link id="theme" href="https://dalapa.id/assets/css/themes/type-e/theme-well-red.min.css" rel="stylesheet">
    <link href="./assets/plugins/themify-icons/themify-icons.min.css" rel="stylesheet">
    <style>
        body { padding-right: 0 !important }
        .modal-open {
            padding-right: 0px !important;
        }
        .modal {
            overflow-y:auto;
        }
    </style>
    <link href="https://dalapa.id/assets/plugins/bootstrap-select/bootstrap-select.min.css" rel="stylesheet">
<link href="https://dalapa.id/assets/plugins/datatables/media/css/dataTables.bootstrap.css" rel="stylesheet">
<link href="https://dalapa.id/assets/plugins/datatables/extensions/Buttons/css/buttons.dataTables.min.css" rel="stylesheet">
<link href="https://dalapa.id/assets/plugins/datatables/extensions/Responsive/css/responsive.dataTables.min.css" rel="stylesheet">
<link href="https://dalapa.id/assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.css" rel="stylesheet">
<style>
    .label-custom{
        font-size: 85%;
        display: block;
    }
</style>
</head>
<body>
    <div id="container" class="effect aside-float aside-bright mainnav-lg">
        <header id="navbar">
            <div id="navbar-container" class="boxed">
                <div class="navbar-header">
                    <a href="#" class="navbar-brand">
                        <img src="https://dalapa.id/assets/img/dalapa_web.png" alt="Nifty Logo" class="brand-icon">
                        <div class="brand-title">
                            <span class="brand-text">DALAPA</span>
                        </div>
                    </a>
                </div>
                <div class="navbar-content">
                    <ul class="nav navbar-top-links">
                        <li class="tgl-menu-btn">
                            <a class="mainnav-toggle" href="#">
                                <i class="ti-menu"></i>
                            </a>
                        </li>
                        <li>
                            <div class="custom-search-form">
                                <label class="btn btn-trans" for="search-input" data-toggle="collapse" data-target="#nav-searchbox">
                                    <i class="ti-search"></i>
                                </label>
                                <form>
                                    <div class="search-container collapse" id="nav-searchbox">
                                    </div>
                                </form>
                            </div>
                        </li>
                    </ul>
                    <ul class="nav navbar-top-links">
                        <li>
                            <a href="#" class="aside-toggle">
                                <i class="ti-more"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </header>
        <div class="boxed">
            <div id="content-container">
                <div id="page-head">
    <div id="page-title">
        <h1 class="page-header text-overflow">Data Validitas OLT</h1>
    </div>
    <ol class="breadcrumb">
        <li><a href="https://dalapa.id"><i class="ti-home"></i></a></li>
        <li><a href="#">Data Management</a></li>
        <li class="active">Dashboard Validitas OLT</li>
    </ol>
</div>
                <div id="page-content">
    <div class="row">
        <div class="col-sm-12">
            <div class="panel">
                <div class="panel-heading">
                    <h3 class="panel-title">Filter Data Validitas Port OLT</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label">Filter Berdasarkan : </label>
                                <select class="selectpicker form-control" name="filter_type">
                                    <option value="1">Regional</option>
                                    <option value="2">Witel</option>
                                    <option value="3">STO</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-3" id="filterWitel" style="display:none;">
                            <div class="form-group">
                                <label class="control-label">Pilih Witel : </label>
                                <select class="selectpicker form-control" name="witel_type">
                                                                            <option value="BJM">KALSEL</option>
                                                                            <option value="BPN">BALIKPAPAN</option>
                                                                            <option value="PLK">KALTENG</option>
                                                                            <option value="PTK">KALBAR</option>
                                                                            <option value="SMD">SAMARINDA</option>
                                                                            <option value="TRK">KALTARA</option>
                                                                    </select>
                            </div>
                        </div>
                        <div class="col-sm-3" id="filterSTO" style="display:none;">
                            <div class="form-group">
                                <label class="control-label">Pilih STO : </label>
                                <select class="selectpicker form-control" name="sto_type"></select>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label"><br></label>
                                <button type="button" class="btn btn-success form-control" id="filterCompare">Filter</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel">
                <div class="panel-heading">
                    <div class="panel-control">
                        <a href="#" class="btn btn-success btn-sm">Last Update : 19-04-2020 16:18:27</a>
                    </div>
                    <h3 class="panel-title">Data Statistik Validitas Port OLT</h3>
                </div>
                <div class="panel-body">
                    <div class="table-responsive">
                        <table class="table table-bordered table-condensed">
                            <thead id="tableHead">
                                <tr>
                                    <th><center>Witel</center></th>
                                    <th><center>OLT Total</center></th>
                                    <th><center>Slot Total</center></th>
                                    <th><center>Port Total</center></th>
                                    <th><center>Port Valid</center></th>
                                    <th><center>Port Tidak Valid</center></th>
                                    <th><center>Port Cek Lapangan</center></th>
                                </tr>
                            </thead>
                            <tbody id="table-body-compare-olt">
                                <tr>
                                    <td colspan="7">
                                        <b>
                                            <center>Silahkan Filter Data Compare Validasi....</center>
                                        </b>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12">
            <div class="panel">
                <div class="panel-heading">
                    <h3 class="panel-title">Grafik Perkembangan Data Validasi Port OLT</h3>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-2">
                            <div class="form-group">
                                <label class="control-label">Jenis Data</label>
                                <select class="selectpicker form-control" name="filter_jenis_chart">
                                    <option value="WTL">Witel</option>
                                    <option value="CAT" selected>Kategori Validitas Port OLT</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-2" id="filterWitelChart" style="display:none">
                            <div class="form-group">
                                <label class="control-label">Filter Berdasarkan : </label>
                                <select class="selectpicker form-control" name="filter_type_chart">
                                    <option value="ALL">REGIONAL</option>
                                    <option value="BPN">BALIKPAPAN</option>
                                    <option value="SMD">SAMARINDA</option>
                                    <option value="TRK">KALTARA</option>
                                    <option value="PTK">KALBAR</option>
                                    <option value="BJM">KALSEL</option>
                                    <option value="PLK">KALTENG</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-2" id="filterKategoriChart">
                            <div class="form-group">
                                <label class="control-label">Filter Berdasarkan : </label>
                                <select class="selectpicker form-control" name="filter_cat_chart">
                                    <option value="VALID" selected>Port OLT Valid</option>
                                    <option value="NOT_VALID">Port OLT Not Valid</option>
                                    <option value="CHECK">Port OLT Check Lapangan</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-2" id="filterTimeType">
                            <div class="form-group">
                                <label class="control-label">Jenis Waktu Data : </label>
                                <select class="selectpicker form-control" name="time_type_chart">
                                    <option value="THN">Tahunan</option>
                                    <option value="BLN">Bulanan</option>
                                    <option value="HRI">Hari</option>
                                    <option value="CSTM" selected>Custom</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-2" id="rangeTahun" style="display:none;">
                            <div class="form-group">
                                <label class="control-label">Tahun</label>
                                <select class="selectpicker form-control" name="time_year_chart">
                                                                            <option value="2019">2019</option>
                                                                            <option value="2020">2020</option>
                                                                    </select>
                            </div>
                        </div>
                        <div class="col-sm-2" id="rangeBulan" style="display:none;">
                            <div class="form-group">
                                <label class="control-label">Bulan</label>
                                <select class="selectpicker form-control" name="time_month_chart">
                                    <option value="1">Januari</option>
                                    <option value="2">Februari</option>
                                    <option value="3">Maret</option>
                                    <option value="4">April</option>
                                    <option value="5">Mei</option>
                                    <option value="6">Juni</option>
                                    <option value="7">Juli</option>
                                    <option value="8">Agustus</option>
                                    <option value="9">September</option>
                                    <option value="10">Oktober</option>
                                    <option value="11">November</option>
                                    <option value="12">Desember</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-5" id="rangeHarian">
                            <div class="form-group">
                                <label class="control-label">Rentang Hari</label>
                                <div class="input-daterange input-group" id="datepicker">
                                    <input type="text" class="form-control" name="start" autocomplete="off" value="07-04-2020"/>
                                    <span class="input-group-addon">Sampai</span>
                                    <input type="text" class="form-control" name="end" autocomplete="off" value="21-04-2020"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-1">
                            <div class="form-group">
                                <label class="control-label"><br></label>
                                <button type="button" class="btn btn-success form-control" id="filterCompareChart">Filter</button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-2 col-offset-9">
                            <div class="form-group">
                                <select class="selectpicker form-control" name="type_data_chart">
                                    <option value="TOTAL">Total Data</option>
                                    <option value="PERSEN" selected>Persentase Data</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <figure class="highcharts-figure">
                        <div id="container-chart"></div>
                    </figure>
                </div>
            </div>
        </div>
    </div>
</div>
            </div>
            <nav id="mainnav-container">
                <div id="mainnav">
                    <div id="mainnav-menu-wrap">
                        <div class="nano">
                            <div class="nano-content">
                                <div id="mainnav-profile" class="mainnav-profile">
                                    <div class="profile-wrap text-center">
                                        <div class="pad-btm">
                                            <img class="img-circle img-md" src="https://dalapa.id/assets/img/profile-photos/1.png" alt="Profile Picture">
                                        </div>
                                        <a href="#profile-nav" class="box-block" data-toggle="collapse" aria-expanded="false">
                                            <p class="mnp-name">Amoeba Demo</p>
                                            <span class="mnp-desc"></span>
                                        </a>
                                    </div>
                                    <div id="profile-nav" class="collapse list-group bg-trans"></div>
                                </div>
                                <ul id="mainnav-menu" class="list-group">
                                    <li class="list-header">NAVIGASI</li>
                                    <li class="">
                                        <a href="./mapping-odp.html">
                                            <i class="ti-target"></i>
                                            <span class="menu-title">Mapping OLT</span>
                                        </a>
                                    </li>
                                    <li class="">
                                        <a href="./mapping-pelanggan.html">
                                            <i class="ti-target"></i>
                                            <span class="menu-title">Mapping ODP</span>
                                        </a>
                                    </li>
                                    <li class="">
                                        <a href="./search-data.html">
                                            <i class="ti-target"></i>
                                            <span class="menu-title">Search Data ODP</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <footer id="footer">
            <div class="hide-fixed pull-right pad-rgt">
                <div class="pull-right pad-rgt">Last Update UIM : <strong>21 April 2020 01:31:01</strong></div>
            </div>
            <p class="pad-lft">&#0169; 2020 Regional Access Management Regional VI, Telkom Indonesia</p>
            <div class="pull-right pad-rgt">Last Update : <strong>21 April 2020 01:31:01</strong></div>
        </footer>
        <button class="scroll-top btn">
            <i class="pci-chevron chevron-up"></i>
        </button>
    </div>
    <div id="modalListPortValidity" class="modal fade" tabindex="-1">
    <div class="modal-dialog modal-lg" style="width:80%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="pci-cross pci-circle"></i></button>
                <h4 class="modal-title" id="myLargeModalLabel">Tabel Data Port ODP</h4>
            </div>
            <div class="modal-body">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="panel-control">
                            <ul class="nav nav-tabs">
                                <li class="active"><a data-toggle="tab" href="#data-olt" aria-expanded="false">Mapping OLT-ODP</a></li>
                                <li><a data-toggle="tab" href="#data-compare" aria-expanded="false">Valda by Port OLT</a></li>
                                <li class=""><a data-toggle="tab" href="#data-lapangan" aria-expanded="true">Data Detail ODP</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="tab-content">
                            <div id="data-olt" class="tab-pane fade active in">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr id="th-row-gpon">
                                                <th style="color:black;white-space:nowrap;">GPON</th>
                                                <th style="color:black;white-space:nowrap;width:1px;">Port GPON</th>
                                            </tr>
                                        </thead>
                                        <tbody id="table-body-filter-gpon">
                                            <tr>
                                                <td colspan='2'><center>Silahkan Filter GPON Terlebih Dahulu</center></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="data-compare" class="tab-pane fade">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>GPON</th>
                                                <th>Port</th>
                                                <th>ONU</th>
                                                <th>No Telp</th>
                                                <th>No Inet</th>
                                                <th>QR DC</th>
                                                <th>Status Port</th>
                                                <th>Redaman</th>
                                                <th>ODP Lapangan</th>
                                                <th>ODP UIM</th>
                                                <th>Validitas</th>
                                            </tr>
                                        </thead>
                                        <tbody id="table-body-filter-comparing">
                                            <tr>
                                                <td colspan='11'><center>Silahkan Pilih Port OLT pada Tab Data OLT</center></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="data-lapangan" class="tab-pane fade">
                                <h4>Data Validasi Lapangan</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th class="no-sort"><input type="checkbox" id="checkboxPrintAll"></th>
                                                <th>ODP</th>
                                                <th>Port ODP</th>
                                                <th>No.Telepon</th>
                                                <th>No.Internet</th>
                                                <th>GPON</th>
                                                <th>Port</th>
                                                <th>SN ONT</th>
                                                <th>QR Code ODP</th>
                                                <th>QR Code Dropcore</th>
                                                <th>Summary</th>
                                                <th>Status Port</th>
                                            </tr>
                                        </thead>
                                        <tbody id="table-body-filter-lapangan">
                                            <tr>
                                                <td colspan='11'><center>Silahkan Pilih ODP pada Tab Data ODP</center></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <button class="btn btn-info btn-sm" id="downloadBulkUIM">Download Bulk UIM</button>
                                        <button class="btn btn-success btn-sm" id="downloadBulkDAVA">Download Bulk DAVA</button>
                                    </div>
                                </div>
                                <h4>Data UIM</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>ODP</th>
                                                <th>Port ODP</th>
                                                <th>No. Telepon</th>
                                                <th>No. Internet</th>
                                                <th>GPON</th>
                                                <th>Port GPON</th>
                                                <th>SN ONT</th>
                                                <th>Service</th>
                                                <th>Status</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="table-body-filter-uim">
                                            <tr>
                                                <td colspan='9'><center>Silahkan Pilih ODP pada Tab Data ODP</center></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="modalODPReferensi" class="modal fade">
    <div class="modal-dialog modal-lg" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="pci-cross pci-circle"></i></button>
                <h4 class="modal-title" id="myLargeModalLabel">Tabel Data ODP Referensi - Kicking UIM</h4>
            </div>
            <div class="modal-body">
                <div class="panel panel-primary">
                    <!--Panel heading-->
                    <div class="panel-heading">
                        <div class="panel-control">
                            <ul class="nav nav-tabs">
                                <li class="active"><a href="#tab-uim" data-toggle="tab">Data UIM</a></li>
                                <li><a href="#tab-ibooster" data-toggle="tab">Data IBooster Netezza</a></li>
                                <li><a href="#tab-nd-ref" data-toggle="tab">ND Referensi</a></li>
                                <li><a href="#tab-odp-ref" data-toggle="tab">ODP Referensi</a></li>
                            </ul>
                        </div>
                        <h3 class="panel-title">Data Detail Pengerjaan</h3>
                    </div>
                    <!--Panel body-->
                    <div class="panel-body">
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="tab-uim">
                                <form id="formDetailUIM">
                                    <p class="text-main text-semibold text-lg">Service List</p>
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Service Name</th>
                                                    <th>Party Name</th>
                                                    <th>Type</th>
                                                    <th>Contact</th>
                                                    <th>Alamat</th>
                                                </tr>
                                            </thead>
                                            <tbody id="table-data-service-list-update">
                                                <tr>
                                                    <td colspan='5'>
                                                        <center>Tidak Ada Data Service</center>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="row">

                                    </div>
                                    <p class="text-main text-semibold text-lg">Update Data Pelanggan</p>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class="control-label">Nama Pelanggan</label>
                                                <input type="text" class="form-control" name="nama_pelanggan" autocomplete="off" readonly>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <div class="ro">
                                                <label for="">Isikan salah satu dari Voice / Internet Number</label>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label">Voice Number</label>
                                                        <input type="number" class="form-control" name="voice_number" autocomplete="off" readonly
                                                            placeholder="">
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label">Internet Number</label>
                                                        <input type="number" class="form-control" name="internet_number" readonly
                                                            autocomplete="off">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-main text-semibold text-lg">Data Alamat Pelanggan</p>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class="control-label">Alamat</label>
                                                <textarea type="text" class="form-control" name="nama_jalan" rows="6" autocomplete="off" placeholder="Contoh : Jl. MT Haryono" readonly></textarea>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">Latitude Rumah</label>
                                                <input type="text" class="form-control" name="lat" autocomplete="off" readonly
                                                    placeholder="Contoh : -3.1443234">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">Longitude Rumah</label>
                                                <input type="text" class="form-control" name="long" autocomplete="off" readonly
                                                    placeholder="Contoh : 114.112322">
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class="control-label">Kontak Pelanggan</label>
                                                <input type="text" class="form-control" name="kontak_pelanggan" autocomplete="off" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-main text-semibold text-lg">Update Data Teknis</p>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class="control-label">SN ONT</label>
                                                <input type="text" class="form-control" name="sn_ont" autocomplete="off" readonly>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">QR Code Port ODP *</label>
                                                <input type="text" class="form-control" name="qr_code_port_odp" autocomplete="off" readonly
                                                    required>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">QR Code Dropcore</label>
                                                <input type="text" class="form-control" name="qr_code_dropcore" autocomplete="off" readonly
                                                    required>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label class="control-label">Catatan</label>
                                                <textarea type="text" class="form-control" name="catatan" autocomplete="off" rows="3" readonly
                                                    placeholder="Catatan dari Teknisi"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-main text-semibold text-lg">Upload Foto</p>
                                    <div class="row" id="imagePreviewPort">
                                        <div class="col-sm-6">
                                            <p class="text-main text-semibold text-md">Foto Rumah Pelanggan</p>
                                            <center><img id="foto_rumah" class="img-responsive viewer"
                                                    src="http://localhost/DALAPA/public/assets/img/image_preview.png" alt="Foto" required></center>
                                            <br>
                                        </div>
                                    </div>
					            </form>
                            </div>
                            <div class="tab-pane fade" id="tab-ibooster">
                                <form id="formDetailIbooster">
                                    <div class="row">
                                        <h4>Data Pelanggan</h4>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">ND Inet</label>
                                                <input type="text" class="form-control" disabled id="nd_inet">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">Tanggal Ukur</label>
                                                <input type="text" class="form-control" disabled id="tanggal_ukur">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <h4>Data GPON</h4>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">GPON</label>
                                                <input type="text" class="form-control" disabled id="gpon">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">Port</label>
                                                <input type="text" class="form-control" disabled id="gpon_port">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <h4>Data ONU</h4>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">ONU</label>
                                                <input type="text" class="form-control" disabled id="onu">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">ONU Description</label>
                                                <input type="text" class="form-control" disabled id="onu_description">
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label">ONU Type</label>
                                                <input type="text" class="form-control" disabled id="onu_type">
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label">ONU SN</label>
                                                <input type="text" class="form-control" disabled id="onu_sn">
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label">ONU Status</label>
                                                <input type="text" class="form-control" disabled id="onu_status">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <h4>Data Status</h4>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="control-label">RX Power ONU</label>
                                                <input type="text" class="form-control" disabled id="rx_power_onu">
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="control-label">RX Power OLT</label>
                                                <input type="text" class="form-control" disabled id="rx_power_olt">
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="control-label">Status Ukur ONU</label>
                                                <input type="text" class="form-control" disabled id="status_ukur_onu">
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="control-label">Status Ukur</label>
                                                <input type="text" class="form-control" disabled id="status_ukur">
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="control-label">ALPRO</label>
                                                <input type="text" class="form-control" disabled id="alpro">
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="form-group">
                                                <label class="control-label">IS Indihome</label>
                                                <input type="text" class="form-control" disabled id="is_indihome">
                                            </div>
                                        </div>
                                    </div>
					            </form>
                            </div>
                            <div class="tab-pane fade" id="tab-nd-ref">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="text-center">#</th>
                                                <th class="text-center">ND Inet</th>
                                                <th class="text-center">Tanggal Ukur</th>
                                                <th class="text-center">GPON</th>
                                                <th class="text-center">Port</th>
                                                <th class="text-center">ODP Location</th>
                                                <th class="text-center" style="width:1px;white-space:nowrap;">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tbody-nd-ref"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab-odp-ref">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="text-center">ODP Referensi</th>
                                                <th class="text-center" style="width:1px;">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tbody-odp-ref"></tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" id="backDetailODP" data-dismiss="modal">Kembali</button>
            </div>
        </div>
    </div>
</div>
<div id="modalDetailODPReferensi" class="modal fade">
    <div class="modal-dialog modal-lg" style="width:90%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><i class="pci-cross pci-circle"></i></button>
                <h4 class="modal-title" id="myLargeModalLabel">Tabel Data ODP Referensi - Kicking UIM</h4>
            </div>
            <div class="modal-body">
                <h4>Data Validasi Lapangan</h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ODP</th>
                                <th>Port ODP</th>
                                <th>No.Telepon</th>
                                <th>No.Internet</th>
                                <th>GPON</th>
                                <th>Port</th>
                                <th>SN ONT</th>
                                <th>QR Code Port ODP</th>
                                <th>QR Code Dropcore</th>
                                <th>Status Port</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="tbodyDetailODPLapangan">
                            <tr>
                                <td colspan='12'><center>Filter Data ODP Terlebih Dahulu</center></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <h4>Data UIM</h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>ODP</th>
                                <th>Port ODP</th>
                                <th>No. Telepon</th>
                                <th>No. Internet</th>
                                <th>GPON</th>
                                <th>Port GPON</th>
                                <th>SN ONT</th>
                                <th>Service</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="tbodyDetailODPUIM">
                            <tr>
                                <td colspan='9'><center>Filter Data ODP Terlebih Dahulu</center></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row" style="display:none;">
                    <form action="https://dalapa.id/api/data/stream/print" method="POST" id="formPrintStream">
                        <input type="text" name="type" id="typeStream" value="">
                        <input type="text" name="data" id="dataStream" value="">
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-warning" id="backDetailODP" data-dismiss="modal">Kembali</button>
            </div>
        </div>
    </div>
</div>
    <script src="https://dalapa.id/assets/js/jquery.min.js"></script>
    <script src="https://dalapa.id/assets/js/bootstrap.min.js"></script>
    <script src="https://dalapa.id/assets/js/nifty.min.js"></script>
    <script>
    let BASE_URL_API = "https://dalapa.id/api/";
    let BASE_URL = "https://dalapa.id/";
    </script>
     <script src="https://dalapa.id/assets/plugins/loadingOverlay/loadingoverlay.min.js"></script>
     <script>
         $.ajaxSetup({
            headers: {
                'Authorization':$('meta[name=account]').attr('data'),
                'AuthWitel':$('meta[name=witel]').attr('data')
            }
        });
         $(document).ajaxStart(function () {
             $.LoadingOverlay("show");
         }).ajaxComplete(function () {
             $.LoadingOverlay("hide");
         });
     </script>
     <script src="https://dalapa.id/assets/plugins/bootstrap-select/bootstrap-select.min.js"></script>
<script src="https://dalapa.id/assets/plugins/datatables/media/js/jquery.dataTables.js"></script>
<script src="https://dalapa.id/assets/plugins/datatables/media/js/dataTables.bootstrap.js"></script>
<script src="https://dalapa.id/assets/plugins/datatables/extensions/Buttons/js/dataTables.buttons.min.js"></script>
<script src="https://dalapa.id/assets/plugins/datatables/extensions/Buttons/js/buttons.bootstrap.min.js"></script>
<script src="https://dalapa.id/assets/plugins/datatables/extensions/Responsive/js/dataTables.responsive.min.js"></script>
<script src="https://dalapa.id/assets/plugins/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script>
    const tableLapangan = $('#table-body-filter-lapangan');
    const tableUIM = $('#table-body-filter-uim');
    const tableCompare = $('#table-body-filter-comparing');
    let selectFilterType = $('select[name=filter_type]');
    let witelFilterType = $('select[name=witel_type]');
    let stoFilterType = $('select[name=sto_type]');
    let divFilterWitel = $('div#filterWitel');
    let divFilterSTO = $('div#filterSTO');
    let btnFilter = $('button#filterCompare');
    let tbodyCompare = $('#table-body-compare-olt');
    let tbodyNDRef = $('#tbody-nd-ref');
    let tbodyODPRef = $('#tbody-odp-ref');
    let tbodyDetailODPUIM = $('#tbodyDetailODPUIM');
    let tbodyDetailODPLapangan = $('#tbodyDetailODPLapangan');
    let tableHead = $('#tableHead');
    let modalListPortValidity = $('#modalListPortValidity');
    let modalReferensi = $('#modalODPReferensi');
    let modalDetailODPReferensi = $('#modalDetailODPReferensi')
    let btnCompareChart = $('#filterCompareChart');
    let filterTypeChart = $('select[name=filter_type_chart]');
    let filterJenisChart = $('select[name=filter_jenis_chart]');
    let filterCatChart = $('select[name=filter_cat_chart]');
    let rangeDayDiv = $('#rangeHarian');
    let rangeMonthDiv = $('#rangeBulan');
    let rangeTahunDiv = $('#rangeTahun');
    let catDiv = $('#filterKategoriChart');
    let witelDiv = $('#filterWitelChart');
    let timeType = $('select[name=time_type_chart]');
    let dataType = $('select[name=type_data_chart]');
    let isModalODPDetailRef = false;
    $(document).ready(function(){
        filterSTO(witelFilterType.val());
        filterByRegional();
        $('.input-daterange').datepicker({
            format: "dd-mm-yyyy",
            todayBtn: "linked",
            autoclose: true,
            todayHighlight: true
        });
        selectFilterType.change(function(){
            let type = selectFilterType.val();
            switch (type) {
                case '1':
                    divFilterWitel.hide();
                    divFilterSTO.hide();
                    break;
                case '2':
                    divFilterWitel.show();
                    divFilterWitel.attr('class','col-sm-6')
                    divFilterSTO.hide();
                    break;
                case '3':
                    filterSTO(witelFilterType.val());
                    divFilterWitel.show();
                    divFilterWitel.attr('class','col-sm-3')
                    divFilterSTO.show();
                    break;
            }
        });
        witelFilterType.change(function(){
            if(selectFilterType.val()=='3'){
                filterSTO(witelFilterType.val());
            }
        });
        btnFilter.click(function(){
            let type = selectFilterType.val();
            switch (type) {
                case '1':
                    filterByRegional();
                    break;
                case '2':
                    filterByWitel();
                    break;
                case '3':
                    filterBySTO(stoFilterType.val());
                    break;
            }
        });
        timeType.change(function(){
            switch ($(this).val()) {
                case 'THN':
                    rangeDayDiv.hide();
                    rangeMonthDiv.hide();
                    rangeTahunDiv.hide();
                    break;
                case 'BLN':
                    rangeDayDiv.hide();
                    rangeMonthDiv.hide();
                    rangeTahunDiv.show();
                    rangeTahunDiv.removeAttr('class').addClass('col-sm-5');
                    break;
                case 'HRI':
                    rangeDayDiv.hide();
                    rangeMonthDiv.show();
                    rangeTahunDiv.show();
                    rangeTahunDiv.removeAttr('class').addClass('col-sm-2');
                    rangeMonthDiv.removeAttr('class').addClass('col-sm-2');
                    break;
                case 'CSTM':
                    rangeDayDiv.show();
                    rangeMonthDiv.hide();
                    rangeTahunDiv.hide();
                    rangeDayDiv.removeAttr('class').addClass('col-sm-5');
                    break;
                default:
                    break;
            }
        });
        btnCompareChart.click(function(){
            makeChart();
        });
        filterJenisChart.change(function(){
            if($(this).val()==="WTL"){
                catDiv.hide();
                witelDiv.show();
            }else if($(this).val()==="CAT"){
                catDiv.show();
                witelDiv.hide();
            }
        });
        makeChart();
    });
    $(document).on('click','.detailRegional',function(){
        selectFilterType.val(2).selectpicker('refresh');
        witelFilterType.val($(this).attr('data-witel')).selectpicker('refresh');
        divFilterWitel.show();
        divFilterWitel.attr('class','col-sm-6')
        divFilterSTO.hide();
        filterByWitel();
    });
    $(document).on('click','.detailWitel',function(){
        selectFilterType.val(3).selectpicker('refresh');
        $.post(BASE_URL_API + "data/filterSTO",{'id_witel_data':witelFilterType.val()},function(res){
            $.each(res,function(k,v){
                stoFilterType.append($('<option>', {
                    value: v.sto_name,
                    text: v.sto_name
                }));
            });
        }).done(function(){
            stoFilterType.val($(this).attr('data-sto')).selectpicker('refresh');
        });
        divFilterWitel.show();
        divFilterWitel.attr('class','col-sm-3')
        divFilterSTO.show();
        filterBySTO($(this).attr('data-sto'));
    });
    $(document).on('click','.detailGPON',function(){
        let gpon = $(this).text();
        filterByGPON(gpon);
    });
    $(document).on('click','.accessCompare',function(){
        let olt_name = $(this).attr('data-gpon');
        let slot = $(this).attr('data-slot');
        let port = $(this).attr('data-port');
        getCompare(olt_name,slot,port);
    });
    $(document).on('click','.detailPort',function(){
        let slot = $(this).attr('data-slot');
        let gpon = $(this).attr('data-gpon');
        tableCompare.html(`<tr><td colspan="11"><center>Silahkan Pilih Port OLT pada Tab Data OLT</center></td></tr>`);
        tableLapangan.html(`<tr><td colspan="11"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        tableUIM.html(`<tr><td colspan="9"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':5,'gpon':gpon,'slot':slot},function(res){
            $('#th-row-gpon').empty();
            $('#table-body-filter-gpon').empty();
            $('#th-row-gpon').append(`
                <th>GPON</th>
                <th style="color:black;white-space:nowrap;width:1px;">Port GPON</th>
            `);
            let max = res.max;
            let data = res.data;
            for (let index = 1; index <= max; index++) {
                $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>ODP ${index}</center></th>`);
            }
            $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>Summary</center></th>`);
            $.each(data,function(keyData,valueData){
                let row = "";
                row += "<tr>";
                row += `<td style="color:black;white-space:nowrap;">${gpon}</td>`;
                row += `<td style="color:black;white-space:nowrap;"><button class="btn btn-xs btn-block btn-mint accessCompare" data-gpon="${gpon}" data-slot="${valueData['slot']}" data-port="${valueData['port']}">1-${valueData['slot']}-${valueData['port']}</button></td>`;
                $.each(valueData['data'],function(keyODP,valueODP){
                    let classStat = null;
                    switch (valueODP['status']) {
                        case '1':
                            classStat = "btn btn-success btn-xs detailPelanggan";
                            break;
                        case '2':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                        case '3':
                            classStat = "btn btn-danger btn-xs detailPelanggan";
                            break;
                        case '4':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                    }
                    row += `<td style="color:black;white-space:nowrap;"><center><button class="${classStat}" data-odp="${valueODP['odp_location']}">${valueODP['odp_location']}</button></center></td>`;
                });
                let length = valueData['data'].length;
                for (length; length < max; length++) {
                    row += `<td style="color:black;white-space:nowrap;"><center>-</center></td>`;
                }
                let statButton = null;
                switch (valueData['validity']) {
                    case '1':
                        statButton = "<button class='btn btn-success btn-block btn-xs'>VALID</button>";
                        break;
                    case '2':
                        statButton = "<button class='btn btn-danger btn-block btn-xs'>TIDAK VALID</button>";
                        break;
                    case '3':
                        statButton = "<button class='btn btn-warning btn-block btn-xs'>CEK LAPANGAN</button>";
                        break;
                    default:
                        break;
                }
                row += `<td style="color:black;white-space:nowrap;"><center><b>${statButton}</b></center></td>`;
                row += "</tr>";
                $('#table-body-filter-gpon').append(row);
            });
        }).done(function(){
            modalListPortValidity.modal('show');
        });
    });
    $(document).on('click','.detailPelanggan',function(){
        let name = $(this).attr('data-odp');
        let type = 1;
        $.post(BASE_URL_API + "odp/search",{
            'type':type,
            'name':name
        },function(response){
            let uim = response.uim;
            let dalapa = response.dalapa;
            if(uim.length>0){
                renderUIM(uim, dalapa);
            }else{
                tableUIM.html(`<tr><td colspan='9'><center>ODP Tidak ditemukan</center></td></tr>`);
            }
            if(dalapa.length>0){
                renderLapangan(dalapa);
            }else{
                tableLapangan.html(`<tr><td colspan='10'><center>ODP Tidak ditemukan</center></td></tr>`);
            }
            $('.nav-tabs a[href="#data-lapangan"]').tab('show');
        });
    });
    $(document).on('click','.detailValid',function(){
        let slot = $(this).attr('data-slot');
        let gpon = $(this).attr('data-gpon');
        tableCompare.html(`<tr><td colspan="11"><center>Silahkan Pilih Port OLT pada Tab Data OLT</center></td></tr>`);
        tableLapangan.html(`<tr><td colspan="11"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        tableUIM.html(`<tr><td colspan="9"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':6,'gpon':gpon,'slot':slot},function(res){
            $('#th-row-gpon').empty();
            $('#table-body-filter-gpon').empty();
            $('#th-row-gpon').append(`
                <th>GPON</th>
                <th style="color:black;white-space:nowrap;width:1px;">Port GPON</th>
            `);
            let max = res.max;
            let data = res.data;
            for (let index = 1; index <= max; index++) {
                $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>ODP ${index}</center></th>`);
            }
            $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>Summary</center></th>`);
            $.each(data,function(keyData,valueData){
                let row = "";
                row += "<tr>";
                row += `<td style="color:black;white-space:nowrap;">${gpon}</td>`;
                row += `<td style="color:black;white-space:nowrap;"><button class="btn btn-xs btn-block btn-mint accessCompare" data-gpon="${gpon}" data-slot="${valueData['slot']}" data-port="${valueData['port']}">1-${valueData['slot']}-${valueData['port']}</button></td>`;
                $.each(valueData['data'],function(keyODP,valueODP){
                    let classStat = null;
                    switch (valueODP['status']) {
                        case '1':
                            classStat = "btn btn-success btn-xs detailPelanggan";
                            break;
                        case '2':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                        case '3':
                            classStat = "btn btn-danger btn-xs detailPelanggan";
                            break;
                        case '4':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                    }
                    row += `<td style="color:black;white-space:nowrap;"><center><button class="${classStat}" data-odp="${valueODP['odp_location']}">${valueODP['odp_location']}</button></center></td>`;
                });
                let length = valueData['data'].length;
                for (length; length < max; length++) {
                    row += `<td style="color:black;white-space:nowrap;"><center>-</center></td>`;
                }
                let statButton = null;
                switch (valueData['validity']) {
                    case '1':
                        statButton = "<button class='btn btn-success btn-block btn-xs'>VALID</button>";
                        break;
                    case '2':
                        statButton = "<button class='btn btn-danger btn-block btn-xs'>TIDAK VALID</button>";
                        break;
                    case '3':
                        statButton = "<button class='btn btn-warning btn-block btn-xs'>CEK LAPANGAN</button>";
                        break;
                    default:
                        break;
                }
                row += `<td style="color:black;white-space:nowrap;"><center><b>${statButton}</b></center></td>`;
                row += "</tr>";
                $('#table-body-filter-gpon').append(row);
            });
        }).done(function(){
            modalListPortValidity.modal('show');
        });
    });
    $(document).on('click','.detailNotValid',function(){
        let slot = $(this).attr('data-slot');
        let gpon = $(this).attr('data-gpon');
        tableCompare.html(`<tr><td colspan="11"><center>Silahkan Pilih Port OLT pada Tab Data OLT</center></td></tr>`);
        tableLapangan.html(`<tr><td colspan="11"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        tableUIM.html(`<tr><td colspan="9"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':7,'gpon':gpon,'slot':slot},function(res){
            $('#th-row-gpon').empty();
            $('#table-body-filter-gpon').empty();
            $('#th-row-gpon').append(`
                <th>GPON</th>
                <th style="color:black;white-space:nowrap;width:1px;">Port GPON</th>
            `);
            let max = res.max;
            let data = res.data;
            for (let index = 1; index <= max; index++) {
                $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>ODP ${index}</center></th>`);
            }
            $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>Summary</center></th>`);
            $.each(data,function(keyData,valueData){
                let row = "";
                row += "<tr>";
                row += `<td style="color:black;white-space:nowrap;">${gpon}</td>`;
                row += `<td style="color:black;white-space:nowrap;"><button class="btn btn-xs btn-block btn-mint accessCompare" data-gpon="${gpon}" data-slot="${valueData['slot']}" data-port="${valueData['port']}">1-${valueData['slot']}-${valueData['port']}</button></td>`;
                $.each(valueData['data'],function(keyODP,valueODP){
                    let classStat = null;
                    switch (valueODP['status']) {
                        case '1':
                            classStat = "btn btn-success btn-xs detailPelanggan";
                            break;
                        case '2':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                        case '3':
                            classStat = "btn btn-danger btn-xs detailPelanggan";
                            break;
                        case '4':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                    }
                    row += `<td style="color:black;white-space:nowrap;"><center><button class="${classStat}" data-odp="${valueODP['odp_location']}">${valueODP['odp_location']}</button></center></td>`;
                });
                let length = valueData['data'].length;
                for (length; length < max; length++) {
                    row += `<td style="color:black;white-space:nowrap;"><center>-</center></td>`;
                }
                let statButton = null;
                switch (valueData['validity']) {
                    case '1':
                        statButton = "<button class='btn btn-success btn-block btn-xs'>VALID</button>";
                        break;
                    case '2':
                        statButton = "<button class='btn btn-danger btn-block btn-xs'>TIDAK VALID</button>";
                        break;
                    case '3':
                        statButton = "<button class='btn btn-warning btn-block btn-xs'>CEK LAPANGAN</button>";
                        break;
                    default:
                        break;
                }
                row += `<td style="color:black;white-space:nowrap;"><center><b>${statButton}</b></center></td>`;
                row += "</tr>";
                $('#table-body-filter-gpon').append(row);
            });
        }).done(function(){
            modalListPortValidity.modal('show');
        });
    });
    $(document).on('click','.detailNotYet',function(){
        let slot = $(this).attr('data-slot');
        let gpon = $(this).attr('data-gpon');
        tableCompare.html(`<tr><td colspan="11"><center>Silahkan Pilih Port OLT pada Tab Data OLT</center></td></tr>`);
        tableLapangan.html(`<tr><td colspan="11"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        tableUIM.html(`<tr><td colspan="9"><center>Silahkan Pilih ODP pada Tab Data ODP</center></td></tr>`);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':8,'gpon':gpon,'slot':slot},function(res){
            $('#th-row-gpon').empty();
            $('#table-body-filter-gpon').empty();
            $('#th-row-gpon').append(`
                <th>GPON</th>
                <th style="color:black;white-space:nowrap;width:1px;">Port GPON</th>
            `);
            let max = res.max;
            let data = res.data;
            for (let index = 1; index <= max; index++) {
                $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>ODP ${index}</center></th>`);
            }
            $('#th-row-gpon').append(`<th style="color:black;white-space:nowrap;width:1px;"><center>Summary</center></th>`);
            $.each(data,function(keyData,valueData){
                let row = "";
                row += "<tr>";
                row += `<td style="color:black;white-space:nowrap;">${gpon}</td>`;
                row += `<td style="color:black;white-space:nowrap;"><button class="btn btn-xs btn-block btn-mint accessCompare" data-gpon="${gpon}" data-slot="${valueData['slot']}" data-port="${valueData['port']}">1-${valueData['slot']}-${valueData['port']}</button></td>`;
                $.each(valueData['data'],function(keyODP,valueODP){
                    let classStat = null;
                    switch (valueODP['status']) {
                        case '1':
                            classStat = "btn btn-success btn-xs detailPelanggan";
                            break;
                        case '2':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                        case '3':
                            classStat = "btn btn-danger btn-xs detailPelanggan";
                            break;
                        case '4':
                            classStat = "btn btn-warning btn-xs detailPelanggan";
                            break;
                    }
                    row += `<td style="color:black;white-space:nowrap;"><center><button class="${classStat}" data-odp="${valueODP['odp_location']}">${valueODP['odp_location']}</button></center></td>`;
                });
                let length = valueData['data'].length;
                for (length; length < max; length++) {
                    row += `<td style="color:black;white-space:nowrap;"><center>-</center></td>`;
                }
                let statButton = null;
                switch (valueData['validity']) {
                    case '1':
                        statButton = "<button class='btn btn-success btn-block btn-xs'>VALID</button>";
                        break;
                    case '2':
                        statButton = "<button class='btn btn-danger btn-block btn-xs'>TIDAK VALID</button>";
                        break;
                    case '3':
                        statButton = "<button class='btn btn-warning btn-block btn-xs'>CEK LAPANGAN</button>";
                        break;
                    default:
                        break;
                }
                row += `<td style="color:black;white-space:nowrap;"><center><b>${statButton}</b></center></td>`;
                row += "</tr>";
                $('#table-body-filter-gpon').append(row);
            });
        }).done(function(){
            modalListPortValidity.modal('show');
        });
    });
    $(document).on('click','.ref',function(){
        let nd = $(this).attr('data-nd');
        let voice = $(this).attr('data-voice');
        service_party = $(this).attr('data-service');
        isModalODPDetailRef = false;
        $.post(BASE_URL_API + "data/alternative/getODP",{
            'internet_number':nd,
            'voice_number':voice,
        },function(res){
            let ib = res.data.ibooster;
            $('#formDetailIbooster input#nd_inet').val(ib.nd_inet);
            $('#formDetailIbooster input#tanggal_ukur').val(ib.tanggal_ukur);
            $('#formDetailIbooster input#gpon').val(ib.clid);
            $('#formDetailIbooster input#gpon_port').val(`1-${ib.slot}-${ib.port}`);
            $('#formDetailIbooster input#onu').val(ib.onu);
            $('#formDetailIbooster input#onu_description').val(ib.onu_description);
            $('#formDetailIbooster input#onu_type').val(ib.onu_type);
            $('#formDetailIbooster input#onu_sn').val(ib.onu_sn);
            $('#formDetailIbooster input#onu_status').val(ib.onu_status);
            $('#formDetailIbooster input#rx_power_onu').val(ib.rx_power_onu);
            $('#formDetailIbooster input#rx_power_olt').val(ib.rx_power_olt);
            $('#formDetailIbooster input#status_ukur_onu').val(ib.status_ukur_onu);
            $('#formDetailIbooster input#status_ukur').val(ib.status_ukur);
            $('#formDetailIbooster input#alpro').val(ib.alpro);
            $('#formDetailIbooster input#is_indihome').val(ib.is_indihome);
            tbodyNDRef.empty();
            if(res.data.list.length>0){
                $.each(res.data.list,function(k,v){
                    tbodyNDRef.append(`
                        <tr>
                            <td class="text-center">${(k+1)}</td>
                            <td>${v.nd_inet}</td>
                            <td>${v.tanggal_ukur}</td>
                            <td class="text-center">${v.clid}</td>
                            <td class="text-center">1-${v.slot}-${v.port}</td>
                            <td class="text-center">${v.odp_location != null ? v.odp_location : ''}</td>
                            <td class="text-center" style="width:1px;white-space:nowrap;">
                                ${v.odp_id!=null ? `<button class="btn btn-xs btn-mint detailODPRef" data-id="${v.odp_id}">Detail ODP</button>` : '' }
                                <button class="btn btn-xs btn-warning detailNDRef" data-id="${v.nd_inet}">Detail Pelanggan</button>
                            </td>
                        </tr>
                    `);
                });
            }else{
                tbodyNDRef.append(`<tr><td colspan='7'><center>Tidak ada ND Ibooster References</center></td></tr>`);
            }
            tbodyODPRef.empty();
            if(res.data.references.length>0){
                $.each(res.data.references,function(k,v){
                    tbodyODPRef.append(`
                        <tr>
                            <td>${v.odp_location}</td>
                            <td><button class="btn btn-xs btn-mint detailODPRef" data-id="${v.odp_id}">Detail ODP</button></td>
                        </tr>
                    `);
                });
            }else{
                tbodyODPRef.append(`<tr><td colspan='2'><center>Tidak ada ND Ibooster References</center></td></tr>`);
            }
        }).done(function(){
            modalReferensi.modal('show');
            modalListPortValidity.modal('hide');
        });
    });
    $(document).on('click','.detailODPRef',function(){
        let id = $(this).attr('data-id');
        isModalODPDetailRef = true;
        $.post(BASE_URL_API + "data/alternative/detailODP",{'odp_id':id},function(res){
            tbodyDetailODPUIM.empty();
            tbodyDetailODPLapangan.empty();
            if(res.uim.length>0){
                $.each(res.uim,function(k,v){
                    tbodyDetailODPUIM.append(`
                        <tr>
                            <td>${v.odp_location}</td>
                            <td>${v.odp_port}</td>
                            <td>${(v.voice_number != null ? v.voice_number : "")}</td>
                            <td>${(v.internet_number != null ? v.internet_number : "")}</td>
                            <td>${v.gpon}</td>
                            <td>${(v.port_gpon != null ? v.port_gpon : "")}</td>
                            <td>${(v.cpe_sn != null ? v.cpe_sn : "")}</td>
                            <td>${(v.service != null ? v.service : "")}</td>
                            <td>${v.status_uim}</td>
                        </tr>
                    `);
                });
            }else{
                tbodyDetailODPUIM.append(`
                    <tr><td colspan='11'><center>Tidak Ada Data ODP UIM</center></td></tr>
                `);
            }
            if(res.dalapa.length>0){
                $.each(res.dalapa,function(k,v){
                    tbodyDetailODPLapangan.append(`
                        <tr>
                            <td>${v.odp_location}</td>
                            <td>${v.port_number_uim}</td>
                            <td>${(v.voice_number != null ? v.voice_number : '-')}</td>
                            <td>${(v.internet_number != null ? v.internet_number : '-')}</td>
                            <td>${(v.gpon_clid != null ? v.gpon_clid : "")}</td>
                            <td>${v.gpon_clid != null ? "1-"+v.gpon_slot+"-"+v.gpon_port : ""}</td>
                            <td>${(v.sn_ont != null ? v.sn_ont : '-')}</td>
                            <td>${(v.qr_code_port_odp != null ? v.qr_code_port_odp : '-')}</td>
                            <td>${(v.qr_code_dropcore != null ? v.qr_code_dropcore : '-')}</td>
                            <td>${(v.type==1 ? 'Teridentifikasi' : (v.type==2?'Tidak Teridentifikasi':(v.type==3?'Rusak':(v.type==4?'Idle':(v.type==5?'Node-B':'Tidak Teridentifikasi')))))}</td>
                            <td><button class="btn btn-warning btn-xs makeBulk" data-port-id="${v.odp_port_id}">BULK</button></td>
                        </tr>
                    `);
                });
            }else{
                tbodyDetailODPLapangan.append(`
                    <tr>
                        <td colspan='9'><center>Tidak Ada Data ODP Lapangan</center></td>
                    </tr>
                `);
            }
        }).done(function(){
            modalReferensi.modal('hide');
            modalDetailODPReferensi.modal('show');
        });
    });
    $(document).on('click','.makeBulk',function(){
        let port_id = $(this).attr('data-port-id');
        $.post(BASE_URL_API + "data/bulk/generateBulkUIMKick",{'service_party':service_party,'port_id':port_id},function(res){
            if(res.status){
                $.niftyNoty({
                    type: 'success',
                    icon: 'pli-like-2 icon-2x',
                    message: res.message,
                    container: 'floating',
                    timer: 5000
                });
                window.open(res.link, '_blank');
            }else{
                $.niftyNoty({
                    type: 'danger',
                    icon: 'pli-like-2 icon-2x',
                    message: res.message,
                    container: 'floating',
                    timer: 5000
                });
            }
        });
    });
    modalDetailODPReferensi.on('hidden.bs.modal',function(){
        modalReferensi.modal('show');
    });
    modalReferensi.on('hidden.bs.modal',function(){
        if (isModalODPDetailRef == false) {
            modalListPortValidity.modal('show');
        }
        isModalODPDetailRef = false;
    })
    $('#downloadBulkUIM').click(function(){
        let id = [];
        $('.checkboxPrint:checked').each(function(){
            id.push($(this).val());
        });
        $.post(BASE_URL_API + "data/bulk/generateBulkUIM",{'id':id},function(res){
            if(res.status){
                $.niftyNoty({
                    type: 'success',
                    icon: 'pli-like-2 icon-2x',
                    message: res.message,
                    container: 'floating',
                    timer: 5000
                });
                window.open(res.link, '_blank');
            }else{
                $.niftyNoty({
                    type: 'danger',
                    icon: 'pli-like-2 icon-2x',
                    message: res.message,
                    container: 'floating',
                    timer: 5000
                });
            }
        });
    });
    $('#downloadBulkDAVA').click(function(){
        let id = [];
        $('.checkboxPrint:checked').each(function(){
            id.push($(this).val());
        });
        if(id.length>0){
            $('#typeStream').val(2);
            $('#dataStream').val(id.join(","));
            $('#formPrintStream').submit();
        }
    });
    $('#checkboxPrintAll').click(function(){
        let check = $(this).is(':checked');
        $(".checkboxPrint").prop('checked',check);
    });
    function filterByRegional(){
        tableHead.html(`
            <tr>
                <th><center>Witel</center></th>
                <th><center>OLT Total</center></th>
                <th><center>Slot Total</center></th>
                <th><center>Port Total</center></th>
                <th><center>Port Valid</center></th>
                <th><center>Port Tidak Valid</center></th>
                <th><center>Port Cek Lapangan</center></th>
            </tr>
        `);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':1},function(res){
            tbodyCompare.empty();
            $.each(res,function(key,value){
                percentValid = (value.valid/value.total) * 100;
                percentNotValid = (value.not_valid / value.total) * 100;
                percentNotYet = (value.not_yet / value.total) * 100;
                let witel = null;
                switch (key) {
                    case 'BPN':
                        witel = "BPP";
                        break;
                    case 'SMD':
                        witel = "SMR";
                        break;
                    default:
                        witel = key;
                        break;
                }
                switch (key) {
                  case 'allWitel':
                        tbodyCompare.append(`
                            <tr>
                                <td><center><strong>TREG6</strong></center></td>
                                <td><center><strong>${value.total_gpon}</strong></center></td>
                                <td><center><strong>${value.total_slot}</strong></center></td>
                                <td><center><strong>${value.total}</strong></center></td>
                                <td><center><strong>${value.valid}</strong><button class="btn btn-mint btn-xs pull-right"><strong>${percentValid.toFixed(4)} %</strong></button></center></td>
                                <td><center><strong>${value.not_valid}</strong> <button class="btn btn-danger btn-xs pull-right"><strong>${percentNotValid.toFixed(4)} %</strong></button></center></td>
                                <td><center><strong>${value.not_yet}</strong> <button class="btn btn-warning btn-xs pull-right"><strong>${percentNotYet.toFixed(4)} %</strong></button></center></td>
                            </tr>
                        `);
                        break;
                  default:
                        tbodyCompare.append(`
                            <tr>
                                <td><center><a href="#" class="btn-link detailRegional" data-witel="${key}"><u>${witel}</u></a></center></td>
                                <td><center>${value.total_gpon}</center></td>
                                <td><center>${value.total_slot}</center></td>
                                <td><center>${value.total}</center></td>
                                <td><center>${value.valid} <button class="btn btn-mint btn-xs pull-right">${percentValid.toFixed(4)} %</button></center></td>
                                <td><center>${value.not_valid} <button class="btn btn-danger btn-xs pull-right">${percentNotValid.toFixed(4)} %</button></center></td>
                                <td><center>${value.not_yet} <button class="btn btn-warning btn-xs pull-right">${percentNotYet.toFixed(4)} %</button></center></td>
                            </tr>
                        `);
                        break;
                }
            });
        });
    }
    function filterByWitel(){
        tableHead.html(`
            <tr>
                <th><center>STO</center></th>
                <th><center>OLT Total</center></th>
                <th><center>Slot Total</center></th>
                <th><center>Port Total</center></th>
                <th><center>Port Valid</center></th>
                <th><center>Port Tidak Valid</center></th>
                <th><center>Port Cek Lapangan</center></th>
            </tr>
        `);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':2,'witel':witelFilterType.val()},function(res){
            tbodyCompare.empty();
            $.each(res,function(key,value){
                percentValid = (value.valid/value.total) * 100;
                percentNotValid = (value.not_valid / value.total) * 100;
                percentNotYet = (value.not_yet / value.total) * 100;
                tbodyCompare.append(`
                    <tr>
                        <td><center><a href="#" class="btn-link detailWitel" data-sto="${key}" data-witel="${witelFilterType.val()}"><u>${key}</u></a></center></td>
                        <td><center>${value.total_gpon}</center></td>
                        <td><center>${value.total_slot}</center></td>
                        <td><center>${value.total}</center></td>
                        <td><center>${value.valid} <button class="btn btn-mint btn-xs pull-right">${percentValid.toFixed(4)} %</button></center></td>
                        <td><center>${value.not_valid} <button class="btn btn-danger btn-xs pull-right">${percentNotValid.toFixed(4)} %</button></center></td>
                        <td><center>${value.not_yet} <button class="btn btn-warning btn-xs pull-right">${percentNotYet.toFixed(4)} %</button></center></td>
                    </tr>
                `);
            });
        });
    }
    function filterBySTO(sto){
        tableHead.html(`
            <tr>
                <th><center>OLT</center></th>
                <th><center>Slot Total</center></th>
                <th><center>Port Total</center></th>
                <th><center>Port Valid</center></th>
                <th><center>Port Tidak Valid</center></th>
                <th><center>Port Cek Lapangan</center></th>
            </tr>
        `);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':3,'sto':sto},function(res){
            tbodyCompare.empty();
            $.each(res,function(key,value){
                percentValid = (value.valid/value.total) * 100;
                percentNotValid = (value.not_valid / value.total) * 100;
                percentNotYet = (value.not_yet / value.total) * 100;
                tbodyCompare.append(`
                    <tr>
                        <td><center><a href="#" class="btn-link detailGPON" data-id="${key}">${key}</a></center></td>
                        <td><center>${value.total_slot}</center></td>
                        <td><center>${value.total}</center></td>
                        <td><center>${value.valid} <button class="btn btn-mint btn-xs pull-right">${percentValid.toFixed(4)} %</button></center></td>
                        <td><center>${value.not_valid} <button class="btn btn-danger btn-xs pull-right">${percentNotValid.toFixed(4)} %</button></center></td>
                        <td><center>${value.not_yet} <button class="btn btn-warning btn-xs pull-right">${percentNotYet.toFixed(4)} %</button></center></td>
                    </tr>
                `);
            });
        }).done(function(){
            stoFilterType.val(sto);
            stoFilterType.selectpicker('refresh');
        });
    }
    function filterByGPON(gpon){
        tableHead.html(`
            <tr>
                <th><center>OLT</center></th>
                <th><center>Port Total</center></th>
                <th><center>Port Valid</center></th>
                <th><center>Port Tidak Valid</center></th>
                <th><center>Port Cek Lapangan</center></th>
            </tr>
        `);
        $.post(BASE_URL_API + "data/olt/statSummary",{'type':4,'gpon':gpon},function(res){
            tbodyCompare.empty();
            $.each(res,function(key,value){
                percentValid = (value.valid/value.total) * 100;
                percentNotValid = (value.not_valid / value.total) * 100;
                percentNotYet = (value.not_yet / value.total) * 100;
                tbodyCompare.append(`
                    <tr>
                        <td><center>${gpon} <button class="btn btn-info btn-xs pull-right">Slot : ${key}</button></center></td>
                        <td><center><a href="#" class="btn-link detailPort" data-slot="${key}" data-gpon="${gpon}"><u>${value.total}</u></a></center></td>
                        <td><center><a href="#" class="btn-link detailValid" data-slot="${key}" data-gpon="${gpon}"><u>${value.valid}</u></a> <button class="btn btn-mint btn-xs pull-right">${percentValid.toFixed(4)} %</button></center></td>
                        <td><center><a href="#" class="btn-link detailNotValid" data-slot="${key}" data-gpon="${gpon}"><u>${value.not_valid}</u></a> <button class="btn btn-danger btn-link btn-xs pull-right">${percentNotValid.toFixed(4)} %</button></center></td>
                        <td><center><a href="#" class="btn-link detailNotYet" data-slot="${key}" data-gpon="${gpon}"><u>${value.not_yet}</u></a> <button class="btn btn-warning btn-link btn-xs pull-right">${percentNotYet.toFixed(4)} %</button></center></td>
                    </tr>
                `);
            });
        });
    }
    function filterSTO(witel){
        stoFilterType.empty();
        $.post(BASE_URL_API + "data/filterSTO",{'id_witel_data':witel},function(res){
            $.each(res,function(k,v){
                stoFilterType.append($('<option>', {
                    value: v.sto_name,
                    text: v.sto_name
                }));
            });
        }).done(function(){
            stoFilterType.selectpicker('refresh');
        });
    }
    function renderUIM(data, dalapa){
        tableUIM.empty();
        $.each(data,function(k,v){
            let status = false;
            dalapa.map(function(value){
                if(v.internet_number != null){
                    if(parseInt(value.internet_number)==parseInt(v.internet_number) || parseInt(value.voice_number) == parseInt(v.internet_number)){
                        status = true;
                    }
                }
                if(v.voice_number != null){
                    if(parseInt(value.internet_number)==parseInt(v.voice_number) || parseInt(value.voice_number) == parseInt(v.voice_number)){
                        status = true;
                    }
                }
            });
            tableUIM.append(`
                <tr>
                    <td>${v.odp_location}</td>
                    <td>Port ${v.odp_port}</td>
                    <td>${(v.voice_number!=null ? v.voice_number : '-')}</td>
                    <td>${(v.internet_number!=null ? v.internet_number : '-')}</td>
                    <td>${v.gpon}</td>
                    <td>${v.port_gpon}</td>
                    <td>${v.cpe_sn}</td>
                    <td>${v.service}</td>
                    <td>${v.status_uim}</td>
                    <td><button class="btn ${status ? 'btn-success' : 'btn-danger'} btn-sm ref" style="padding:2px 10px" data-nd="${v.internet_number}" data-voice="${v.voice_number}" data-service="${v.service_party}">REF</button></td>
                </tr>
            `);
        });
    }
    function renderLapangan(data){
        tableLapangan.empty();
        $.each(data,function(k,v){
            let port = '-';
            if((v.gpon_port != null && v.gpon_port != "") && (v.gpon_slot != null && v.gpon_slot != "")){
                port = `1-${v.gpon_slot}-${v.gpon_port}`;
            }
            tableLapangan.append(`
                <tr>
                    <td style="white-space:nowrap;" for="checkboxPrint">
                        <input name="print[]" type="checkbox" class="checkboxPrint" value="${v.id_port_update_request}">
                    </td>
                    <td>${v.odp_location}</td>
                    <td>Port ${v.odp_port_number}</td>
                    <td>${(v.voice_number == null ? '-' : v.voice_number )}</td>
                    <td>${(v.internet_number == null ? '-' : v.internet_number )}</td>
                    <td>${(v.gpon_clid == null ? '-' : v.gpon_clid )}</td>
                    <td>${port}</td>
                    <td>${(v.sn_ont == null ? '-' : v.sn_ont)}</td>
                    <td>${(v.qr_code_port_odp == null ? '-' : v.qr_code_port_odp)}</td>
                    <td>${(v.qr_code_dropcore == null ? '-' : v.qr_code_dropcore)}</td>
                    <td>${(v.summary_id == null ? '-' : v.summary_id)}</td>
                    <td>${(v.type==1 ? 'Teridentifikasi' : (v.type==2?'Tidak Teridentifikasi':(v.type==3?'Rusak':(v.type==4?'Idle':'Node-B'))))}</td>
                </tr>
            `);
        });
    }
    function getCompare(olt,slot,port){
        $.post(BASE_URL_API + "data/olt/compare",{
            'olt':olt,
            'slot':slot,
            'port':port
        },function(response){
            if(response.status){
                tableCompare.empty();
                $.each(response.data,function(key,value){
                    let odp_lapangan = "";
                    let odp_uim = "";
                    let validitas = null;
                    let status = null;
                    if((value.odp_location_lapangan != null) && (value.odp_location_uim != null)){
                        if(value.odp_location_lapangan === value.odp_location_uim){
                            odp_lapangan = `<button class='btn btn-success btn-xs detailPelanggan' data-odp="${value.odp_location_lapangan}">${value.odp_location_lapangan}</button>`;
                            odp_uim = `<button class='btn btn-success btn-xs detailPelanggan' data-odp="${value.odp_location_uim}">${value.odp_location_uim}</button>`;
                            validitas = "<button class='btn btn-success btn-xs btn-block'>OK</button>";
                        }else{
                            odp_lapangan = `<button class='btn btn-danger btn-xs detailPelanggan' data-odp="${value.odp_location_lapangan}">${value.odp_location_lapangan}</button>`;
                            odp_uim = `<button class='btn btn-danger btn-xs detailPelanggan' data-odp="${value.odp_location_uim}">${value.odp_location_uim}</button>`;
                            validitas = "<button class='btn btn-danger btn-xs btn-block'>NO</button>";
                        }
                    }else{
                        validitas = "<button class='btn btn-warning btn-xs btn-block'>NOT YET</button>";
                        if(value.odp_location_lapangan != null){
                            odp_lapangan = `<button class='btn btn-warning btn-xs detailPelanggan' data-odp="${value.odp_location_lapangan}">${value.odp_location_lapangan}</button>`;
                        }
                        if(value.odp_location_uim != null){
                            odp_uim = `<button class='btn btn-warning btn-xs detailPelanggan' data-odp="${value.odp_location_uim}">${value.odp_location_uim}</button>`;
                        }
                    }
                    switch (value.type) {
                        case '1':
                            status = `<button class="btn btn-purple btn-xs btn-block">Teridentifikasi</button>`;
                            break;
                        case '2':
                            status = `<button class="btn btn-dark btn-xs btn-block">Tidak Teridentifikasi</button>`;
                            break;
                        case '3':
                            status = `<button class="btn btn-danger btn-xs btn-block">Rusak</button>`;
                            break;
                        case '4':
                            status = `<button class="btn btn-success btn-xs btn-block">Idle</button>`;
                            break;
                        default:
                            status = `<center>-<center>`;
                            break;
                    }
                    tableCompare.append(`
                        <tr>
                            <td style="white-space:nowrap;">${value.clid}</td>
                            <td style="white-space:nowrap;">1-${value.slot}-${value.port}</td>
                            <td>-</td>
                            <td>-</td>
                            <td style="white-space:nowrap;">${value.nd_inet}</td>
                            <td>${(value.qr_code_dropcore != null ? value.qr_code_dropcore : '-')}</td>
                            <td style="white-space:nowrap;">${status}</td>
                            <td>${value.rx_power_onu}</td>
                            <td style="white-space:nowrap;">${odp_lapangan}</td>
                            <td style="white-space:nowrap;">${odp_uim}</td>
                            <td style="white-space:nowrap;">${validitas}</td>
                        </tr>
                    `);
                });
                $('.nav-tabs a[href="#data-compare"]').tab('show');
            }else{
                $.niftyNoty({
                    type: 'danger',
                    icon: 'pli-like-2 icon-2x',
                    message: response.message,
                    container: 'floating',
                    timer: 5000
                });
            }
        });
    }
    function makeChart(){
        let type = timeType.val();
        let time_year_chart = $('select[name=time_year_chart]').val();
        let time_month_chart = $('select[name=time_month_chart]').val();
        let day_start = $('input[name=start]').val();
        let day_finish = $('input[name=end]').val();
        let filter_type_chart = filterTypeChart.val();
        let filter_data_type = dataType.val();
        let filter_jenis_chart = filterJenisChart.val();
        let filter_cat_chart = filterCatChart.val();
        if(type=="CSTM"){
            if((day_start === null || day_start === "") || (day_finish === null || day_finish === "")){
                $.niftyNoty({
                    type: 'danger',
                    container : 'floating',
                    title : 'Information',
                    message : "Rentang Tanggal Harus diisikan",
                    closeBtn : false,
                    timer : 3000
                });
                return;
            }
        }
        $.post(BASE_URL_API + "chart/generate-summary",{
            filter_cat_chart,
            filter_jenis_chart,
            filter_type_chart,
            filter_data_type,
            type,
            time_year_chart,
            time_month_chart,
            day_start,
            day_finish
        },function(res){
            if(res.status){
                Highcharts.chart('container-chart', {
                    title: {
                        text: 'Riwayat Statistik Data Validitas Port OLT'
                    },
                    subtitle: {
                        text: `Last Update : ${res.last_update}`
                    },
                    yAxis: {
                        title: {
                            text: `Total Data ${(filter_data_type === "PERSEN" ? "%" : "")}`
                        }
                    },
                    xAxis: {
                        categories: res.category
                    },
                    legend: {
                        layout: 'vertical',
                        align: 'right',
                        verticalAlign: 'middle'
                    },
                    plotOptions: {
                        series: {
                            label: {
                                enabled:false,
                                connectorAllowed: false
                            }
                        }
                    },
                    series: res.data_series,
                    responsive: {
                        rules: [{
                            condition: {
                                maxWidth: 500
                            },
                            chartOptions: {
                                legend: {
                                    layout: 'horizontal',
                                    align: 'center',
                                    verticalAlign: 'bottom'
                                }
                            }
                        }]
                    }
                });
            }
        });
    }
</script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
</body>
</html>
